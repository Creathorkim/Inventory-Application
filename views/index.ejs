<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <title>Categories and Items</title>

    <!-- CSS  -->
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .hamburger-icon {
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        height: 24px;
        cursor: pointer;
      }
      .hamburger-icon span {
        width: 30px;
        height: 2px;
        background-color: white;
        border-radius: 2px;
        transition: 0.3s;
      }
      .hamburger-icon.open span:nth-child(1) {
        transform: translateY(10px) rotate(45deg);
      }
      .hamburger-icon.open span:nth-child(2) {
        opacity: 0;
        transform: translateX(-20px);
      }
      .hamburger-icon.open span:nth-child(3) {
        transform: translateY(-10px) rotate(-45deg);
      }
    </style>
  </head>
  <body class="bg-stone-950 text-gray-100">
    <!-- Header  -->
    <header class="bg-purple-800 md:hidden">
      <div class="flex justify-between p-5">
        <h1 class="text-3xl">Inventory Application</h1>
        <button
          class="p-3 rounded bg-indigo-600 :bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 shadow-lg"
          id="menuBtn"
        >
          <div class="hamburger-icon" id="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </button>
      </div>
    </header>

    <!-- Mobilesidebar  -->
    <aside
      class="bg-purple-800 text-white rounded h-screen md:hidden p-5 fixed transform -translate-x-full transition-transform duration-300 w-60 top-0 ease-in-out"
      id="mobileSidebar"
    >
      <div class="flex flex-col py-4">
        <h1 class="text-2xl text-center mb-3">Categories</h1>
        <a
          href="/NewCategory"
          class="block bg-gray-800 hover:bg-gray-600 py-2 rounded text-center"
          >Add New</a
        >
      </div>
      <ul>
        <% category.forEach(category =>{ %>
        <li>
          <a
            href="/categories/<%= category.id %>/items"
            class="block bg-gray-600 shadow-lg rounded text-center py-3 mb-3"
            ><%= category.name %></a
          >
        </li>
        <%})%>
      </ul>
    </aside>

    <!-- Large screens sidebar  -->
    <div class="flex">
      <aside
        class="hidden md:block h-screen w-80 bg-purple-800 rounded p-5"
        id="sidebar"
      >
        <div class="flex flex-col py-4">
          <h1 class="text-2xl text-center mb-3">Categories</h1>
          <a
            href="/NewCategory"
            class="block bg-gray-800 hover:bg-gray-600 py-2 rounded text-center"
            >Add New</a
          >
        </div>
        <ul>
          <% category.forEach(category =>{ %>
          <li>
            <a
              href="/categories/<%= category.id %>/items"
              class="block bg-gray-600 shadow-lg rounded text-center py-3 mb-3"
              ><%= category.name %></a
            >
          </li>
          <%})%>
        </ul>
      </aside>

      <!-- Main Content  -->
      <main class="p-5 w-screen">
        <div class="flex justify-between mb-4">
          <h1 class="text-4xl">Items</h1>
          <a
            href="/newItem/<%= categoryId%>/item"
            class="block bg-gray-800 hover:bg-gray-600 py-2 px-5 rounded text-center"
          >
            + Add New
          </a>
        </div>

        <% if (items.length === 0) { %>
        <p class="font-bold text-purple-500 mt-8 text-center">
          <a class="underline" href="/newItem/<%= categoryId %>/item">
            Create an item here</a
          >
          (Don't do this if you've not created a category yet)
        </p>
        <% } else { %>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <% items.forEach(item => { %>
          <div class="bg-purple-800 p-4 rounded shadow-lg">
            <div class="h-1/2">
              <h2 class="font-bold"><%= item.name %></h2>
              <p><%= item.description %></p>
            </div>
            <p><strong>$<%= item.price %></strong></p>
            <div class="flex justify-end mt-8 mb-5">
              <ul class="flex gap-2">
                <li>
                  <a
                    href="/authoriseEdit/<%= item.id %>/verifyx5590-editpass"
                    class="bg-gray-600 px-3 py-2 rounded-lg"
                    >Edit</a
                  >
                </li>
                <li>
                  <a
                    href="/authoriseDelete/<%= item.id %>/verifyx8421-delpass"
                    class="bg-rose-600 px-3 py-2 rounded-lg"
                    onclick="return confirm('Are you sure you want to delete this item???')"
                    >Delete</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <% }) %>
        </div>
        <% } %>
      </main>
    </div>

    <!-- JavaScript -->
    <script>
      const menuBtn = document.getElementById("menuBtn");
      const sidebar = document.getElementById("mobileSidebar");
      const hamburgericon = document.getElementById("hamburger-icon");
      const overlay = document.getElementById("overlay");
      menuBtn.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        hamburgericon.classList.toggle("open");
      });
    </script>
  </body>
</html>
